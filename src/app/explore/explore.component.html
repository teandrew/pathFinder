<section class="section">
	<div><span>Campus: {{ campus }} </span>
		<a href="">[change]</a>
	</div>

	<div class="search-cont">
		<div class="search-cou">
			<div class="search-title mb-30">
				<h2 class="title is-2">Explore Courses</h2>
			</div>
			<div class="search-input mb-20 columns">
				<div class="control column">
					<input class="input" #keyword (input)="search(keyword.value)" placeholder="{{ searchBy }}" type="text" value="{{searchVal}}">
				</div>
				<div class="control column is-two-fifths">
					<div class="buttons has-addons">
						<span *ngFor="let crit of searchCriteria" (click)="setActive(crit)"class="button" [ngClass]="{'is-link': crit.isActive }">{{ crit.by }}</span> 
					</div>
				</div>
			</div>
			<div *ngIf="searchVal" class="mb-5">
				<div>
					<span class="tag is-dark">
            {{ searchVal }}
            <a style="margin-left: 5px; color: white;" (click)="clearSearch()"><i class="fas fa-times-circle"></i></a>
          </span>

				</div>
			</div>
			<div class="level mb-5">
				<div class="level-left">
					<span><i class="fas fa-book-open"></i> {{ numOfCourses }} of {{ numOfCourses }} courses</span>
				</div>
				<div class="level-right">
          <div> Sort by:
            <span class="sort-crit">Rating</span>
            <span class="sort-crit">Code</span>
            <span class="sort-crit">Name</span>
          </div>
				</div>
			</div>
      <!--
			<table class="search-res table">
				<thead>
					<tr>
						<th>COURSE CODE</th>
						<th>COURSE NAME</th>
						<th>DEPARTMENT</th>
						<th>DESCRIPTION</th>
						<th>RATING</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let course of courses$ | async" routerLink="/course/{{course.code}}">
						<td>{{ course?.code }}</td>
						<td>{{ course?.name }}</td>
						<td>{{ course?.department }}</td>
						<td>{{ course?.description }}</td>
						<td>4.5 (0)</td>
					</tr>
				</tbody>
			</table>
      -->
      <div class="search-res table">
        <div class="columns header">
          <span class="column is-2">RATING</span>
          <span class="column is-one-fifths">COURSE CODE</span>
          <span class="column is-4">NAME</span>
          <span class="column">DEPARTMENT</span>   
        </div>

        <ng-container *ngIf="!loading else searching">
					<div class="columns course" *ngFor="let course of allCourses">
						<span class="column is-2">RATING</span>
						<span class="column is-one-fifths">{{ course?.code }}</span>
						<span class="column is-4">{{ course?.name }}</span>
						<span class="column">{{ course?.department }}</span>
					</div>
				</ng-container>
				<ng-template #searching>
          <div class="columns loading-cont">
            <div class="loading"><div></div><div></div><div></div></div>
					</div>
				</ng-template>
      </div>

		</div>
	</div>
</section>